{% extends "base.html" %}

{% block header %}
Upload File
{% endblock %}

{% block content %}
<div class="mb-4">
  <title>Upload</title>
  <p>Please select a file to upload. Only allowed file types will be accepted.</p>
</div>

<!-- Flash Messages -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div id="flash-messages">
      {% for category, message in messages %}
        <div class="alert alert-{{ category }} flash-message" role="alert">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<!-- File Upload Form -->
<form method="post" enctype="multipart/form-data">
  <div class="mb-3">
    <label for="file" class="form-label">Choose a file:</label>
    <input type="file" id="file" name="file" class="form-control">
  </div>
  <button type="submit" class="btn btn-primary">Upload</button>
</form>

<!-- JavaScript to hide flash messages after 5 seconds -->
<script>
  // Wait for the DOM to fully load
  document.addEventListener("DOMContentLoaded", function () {
    const flashMessages = document.getElementById('flash-messages');
    if (flashMessages) {
      // Set a timeout to remove the flash messages after 5 seconds
      setTimeout(() => {
        flashMessages.remove();
      }, 5000);
    }
  });
</script>
{% endblock %}
